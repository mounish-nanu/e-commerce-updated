#spring.application.name=gatewayService
#
#server.port=8085
#
## Route 1 - Product Service
#spring.cloud.gateway.routes[0].id=product-service
#spring.cloud.gateway.routes[0].uri=http://localhost:8081
#spring.cloud.gateway.routes[0].predicates[0]=Path=/api/products/**
#spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1
#
## Route 2 - User Service
#spring.cloud.gateway.routes[1].id=user-service
#spring.cloud.gateway.routes[1].uri=http://localhost:8080
#spring.cloud.gateway.routes[1].predicates[0]=Path=/api/users/**,/api/auth/**
#spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1
#
## Management endpoints
#
#
#security.jwt.hmac-secret=your-very-long-secret-key-which-has-32-bytes!
#
#
#management.endpoints.web.exposure.include= *
#management.endpoint.health.show-details=always
#
#management.prometheus.metrics.export.enabled=true
#management.endpoint.prometheus.enabled=true


# ===== Identity / Port =====
spring.application.name=${SPRING_APPLICATION_NAME:gateway}
server.port=${SERVER_PORT:8085}

# ===== Static routes (keep your StripPrefix logic) =====
# Product Service
spring.cloud.gateway.routes[0].id=product-service
spring.cloud.gateway.routes[0].uri=${PRODUCT_SERVICE_URI:http://localhost:8081}
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/products/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1

# User Service
spring.cloud.gateway.routes[1].id=user-service
spring.cloud.gateway.routes[1].uri=${USER_SERVICE_URI:http://localhost:8080}
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/users/**,/api/auth/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1

# ===== Eureka (optional, for discovery if you enable it) =====
eureka.client.service-url.defaultZone=${EUREKA_CLIENT_SERVICEURL_DEFAULTZONE:http://localhost:8761/eureka}
spring.cloud.gateway.discovery.locator.enabled=${SPRING_CLOUD_GATEWAY_DISCOVERY_LOCATOR_ENABLED:false}
spring.cloud.gateway.discovery.locator.lower-case-service-id=${SPRING_CLOUD_GATEWAY_DISCOVERY_LOCATOR_LOWER_CASE_SERVICE_ID:true}

# ===== Security (JWT) =====
security.jwt.hmac-secret=${SECURITY_JWT_HMAC_SECRET:your-very-long-secret-key-which-has-32-bytes!}

# ===== Actuator / Prometheus =====
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.prometheus.metrics.export.enabled=true
management.endpoint.prometheus.enabled=true
